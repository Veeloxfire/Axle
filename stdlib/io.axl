HANDLE :: #type u64;
DWORD :: #type u32;

GetStdHandle :: #static_link((i32) -> u64, "kernel32.lib", "GetStdHandle");
WriteConsoleA :: #static_link((HANDLE, *void, u32, *u32, *void) -> u64, "kernel32.lib", "WriteConsoleA");

WIN_STD_OUT_REF :: cast(i32, -11i64);

stdout_handle : u64 = GetStdHandle(WIN_STD_OUT_REF);

print :: (string: *ascii, len: u64) -> void {
  WriteConsoleA(stdout_handle, cast(*void, string), cast(u32, len), cast(*u32, nullptr), nullptr);
}